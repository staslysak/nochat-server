{"version":3,"sources":["pages/VerifyUser/index.js"],"names":["connect","dispatch","dispatchLogin","data","dispatchLogout","props","useMutation","VERIFY_USER","verifyUser","React","useEffect","token","pasreQuery","location","variables","secret","then","catch","err","finally","history","push"],"mappings":"6KAuBeA,sBAAQ,MAAM,SAACC,GAAD,MAAe,CAC1CC,cAAe,SAACC,GAAD,OAAUF,EAASC,YAAcC,KAChDC,eAAgB,kBAAMH,EAASG,mBAFlBJ,EAhBI,SAACK,GAAW,IAAD,EACPC,YAAYC,KAA1BC,EADqB,oBAa5B,OAVAC,IAAMC,WAAU,WAAO,IACbC,EAAUC,YAAWP,EAAMQ,UAA3BF,MACRH,EAAW,CAAEM,UAAW,CAAEC,OAAQJ,KAC/BK,MAAK,gBAAGb,EAAH,EAAGA,KAAH,OAAcE,EAAMH,cAAcC,EAAKK,eAC5CS,OAAM,SAACC,GACNb,EAAMD,oBAEPe,SAAQ,kBAAMd,EAAMe,QAAQC,KAAK,UACnC,CAAChB,EAAOG,IAEJ","file":"static/js/0.db98c135.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { VERIFY_USER } from \"graphql/mutations\";\r\nimport { connect } from \"react-redux\";\r\nimport { dispatchLogin, dispatchLogout } from \"redux/actions\";\r\nimport { pasreQuery } from \"utils/index\";\r\n\r\nconst VerifyUser = (props) => {\r\n  const [verifyUser] = useMutation(VERIFY_USER);\r\n\r\n  React.useEffect(() => {\r\n    const { token } = pasreQuery(props.location);\r\n    verifyUser({ variables: { secret: token } })\r\n      .then(({ data }) => props.dispatchLogin(data.verifyUser))\r\n      .catch((err) => {\r\n        props.dispatchLogout();\r\n      })\r\n      .finally(() => props.history.push(\"/\"));\r\n  }, [props, verifyUser]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default connect(null, (dispatch) => ({\r\n  dispatchLogin: (data) => dispatch(dispatchLogin(data)),\r\n  dispatchLogout: () => dispatch(dispatchLogout()),\r\n}))(VerifyUser);\r\n"],"sourceRoot":""}