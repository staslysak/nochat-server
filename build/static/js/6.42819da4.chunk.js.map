{"version":3,"sources":["../node_modules/@material-ui/core/esm/SvgIcon/index.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@material-ui/icons/Send.js","../node_modules/@material-ui/icons/utils/createSvgIcon.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/classnames/index.js","components/ChatWindow/styles.js","components/ChatWindow/ChatInput.js","components/ChatWindow/index.js","../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js","components/Message/MessageMenu.js","components/Message/styles.js","components/Message/index.js","components/Fallback/styles.js","components/Fallback/index.js","components/DirectChat/styles.js","components/DirectChat/index.js","containers/DirectChatContainer/index.js","pages/Home/index.js"],"names":["module","exports","obj","__esModule","_interopRequireDefault","require","Object","defineProperty","value","default","_react","_default","createElement","d","path","displayName","Component","memo","forwardRef","props","ref","_SvgIcon","_extends2","process","muiName","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","hasOwn","classNames","classes","arg","argType","push","Array","isArray","inner","join","useStyles","makeStyles","theme","ChatWindow","position","height","display","flexDirection","ChatWindow_input_wrapper","alignSelf","alignItems","width","borderTop","palette","divider","fontSize","typography","body2","ChatWindow_input","minHeight","padding","spacing","ChatWindow_empty","justifyContent","ChatWindow_content","maxHeight","overflow","background","type","lighten","darken","borderRadius","shape","ChatInput","onClick","inputProps","className","InputBase","autoFocus","fullWidth","multiline","rowsMax","placeholder","IconButton","disabled","trim","chatId","children","onSendMessage","subscribeToNewMessage","containerRef","React","createRef","useState","message","setMessage","handleViewUpdate","useCallback","current","scrollTop","scrollHeight","useEffect","unsubsribe","handleSendMessage","onChange","e","onKeyPress","shiftKey","preventDefault","MenuItem","tabIndex","_props$component","component","_props$disableGutters","disableGutters","_props$role","role","selected","tabIndexProp","other","_objectWithoutProperties","undefined","ListItem","button","dense","clsx","root","gutters","withStyles","body1","_defineProperty","paddingTop","paddingBottom","boxSizing","whiteSpace","breakpoints","up","name","MessageMenu","anchorEl","onClose","onDelete","Menu","keepMounted","open","Boolean","Message","maxWidth","bottom","content","wordWrap","overflowWrap","minWidth","opacity","Message_content","margin","Message_content_receiver","Message_content_sender","Message_receiver","left","transform","borderBottom","borderLeft","Message_sender","secondary","dark","color","getContrastText","right","borderRight","isOwner","text","createdAt","contextMenu","setContextMenu","useLazyQuery","DELETE_MESSAGE","deleteMessage","cx","onContextMenu","currentTarget","Typography","variant","formatDate","variables","messageId","id","DirectFallback","DirectChat_header","paddingLeft","paddingRight","DirectChat","user","show","directId","directUser","directMessages","subscribeToMore","onCreateMessage","renderMessages","useMemo","map","msg","MainBlock","header","ListItemText","primary","username","primaryTypographyProps","secondaryTypographyProps","Avatar","src","avatar","alt","DirectChatContainer","userId","userData","useQuery","USER","get","directData","DIRECT","direct","useMutation","CREATE_DIRECT","createDirect","CREATE_MESSAGE","createMessage","document","NEW_MESSAGE","updateQuery","prev","subscriptionData","data","messages","newMessage","Home","p","pasreQuery","location"],"mappings":"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","file":"static/js/6.42819da4.chunk.js","sourcesContent":["export { default } from './SvgIcon';","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  ChatWindow: {\r\n    position: \"relative\",\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  ChatWindow_input_wrapper: {\r\n    alignSelf: \"flex-end\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    borderTop: `1px solid ${theme.palette.divider}`,\r\n    \"& .MuiInputBase-root\": {\r\n      fontSize: theme.typography.body2.fontSize\r\n    }\r\n  },\r\n  ChatWindow_input: {\r\n    minHeight: 64,\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(1.5)}px ${theme.spacing(\r\n      0.5\r\n    )}px ${theme.spacing(2)}px`,\r\n    \"& .MuiInputBase-inputMultiline\": {\r\n      \"&::-webkit-scrollbar\": { display: \"none\" }\r\n    }\r\n  },\r\n  ChatWindow_empty: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  ChatWindow_content: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n    maxHeight: \"calc(100% - 64px)\",\r\n    overflow: \"auto\",\r\n    background: \"transparent\",\r\n    padding: theme.spacing(2),\r\n    \"&::-webkit-scrollbar\": {\r\n      width: 5,\r\n      background: \"transparent\",\r\n      \"&-thumb\": {\r\n        background:\r\n          theme.palette.type === \"dark\"\r\n            ? theme.lighten(theme.palette.background.default, 0.235)\r\n            : theme.darken(theme.palette.background.default, 0.057),\r\n        borderRadius: theme.shape.borderRadius * 3,\r\n        display: \"none\"\r\n      }\r\n    },\r\n    \"&:hover::-webkit-scrollbar-thumb\": { display: \"block\" }\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from \"react\";\r\nimport { InputBase, IconButton } from \"@material-ui/core\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst ChatInput = ({ onClick, ...inputProps }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.ChatWindow_input_wrapper}>\r\n      <InputBase\r\n        autoFocus\r\n        fullWidth\r\n        multiline\r\n        rowsMax={5}\r\n        {...inputProps}\r\n        placeholder=\"Write a message...\"\r\n        className={classes.ChatWindow_input}\r\n      />\r\n      <IconButton onClick={onClick} disabled={!inputProps.value.trim().length}>\r\n        <SendIcon />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInput;\r\n","import React from \"react\";\r\nimport useStyles from \"./styles\";\r\nimport ChatInput from \"./ChatInput\";\r\n\r\nconst ChatWindow = ({\r\n  chatId,\r\n  children,\r\n  onSendMessage,\r\n  subscribeToNewMessage\r\n}) => {\r\n  const classes = useStyles();\r\n  const containerRef = React.createRef();\r\n  const [message, setMessage] = React.useState(\"\");\r\n\r\n  const handleViewUpdate = React.useCallback(() => {\r\n    if (containerRef.current) {\r\n      containerRef.current.scrollTop = containerRef.current.scrollHeight;\r\n    }\r\n  }, [containerRef]);\r\n\r\n  React.useEffect(() => {\r\n    let unsubsribe = () => {};\r\n\r\n    if (chatId) {\r\n      unsubsribe = subscribeToNewMessage(chatId);\r\n    }\r\n\r\n    return () => {\r\n      unsubsribe(chatId);\r\n    };\r\n  }, [chatId]);\r\n\r\n  React.useEffect(() => {\r\n    handleViewUpdate();\r\n  }, [containerRef, handleViewUpdate]);\r\n\r\n  const handleSendMessage = () => {\r\n    if (message.trim().length) {\r\n      onSendMessage(message);\r\n    }\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const handleChange = e => setMessage(e.target.value);\r\n\r\n  const handleKeyPress = e => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.ChatWindow}>\r\n      <div className={classes.ChatWindow_content} ref={containerRef}>\r\n        {children}\r\n      </div>\r\n      <ChatInput\r\n        value={message}\r\n        onChange={handleChange}\r\n        onKeyPress={handleKeyPress}\r\n        onClick={handleSendMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatWindow;\r\n","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListItem from '../ListItem';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body1, _defineProperty({\n      minHeight: 48,\n      paddingTop: 6,\n      paddingBottom: 6,\n      boxSizing: 'border-box',\n      width: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    })),\n    // TODO v5: remove\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: {},\n\n    /* Styles applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the root element if dense. */\n    dense: _extends({}, theme.typography.body2, {\n      minHeight: 'auto'\n    })\n  };\n};\nvar MenuItem = React.forwardRef(function MenuItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'menuitem' : _props$role,\n      selected = props.selected,\n      tabIndexProp = props.tabIndex,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"role\", \"selected\", \"tabIndex\"]);\n\n  var tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return React.createElement(ListItem, _extends({\n    button: true,\n    role: role,\n    tabIndex: tabIndex,\n    component: component,\n    selected: selected,\n    disableGutters: disableGutters,\n    classes: {\n      dense: classes.dense\n    },\n    className: clsx(classes.root, className, selected && classes.selected, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? MenuItem.propTypes = {\n  /**\n   * Menu item contents.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiMenuItem'\n})(MenuItem);","import React from \"react\";\r\nimport { Menu, MenuItem } from \"@material-ui/core\";\r\n\r\nconst MessageMenu = ({ anchorEl, onClose, onDelete }) => {\r\n  const handleDelete = () => {\r\n    onDelete();\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Menu anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={onClose}>\r\n      <MenuItem dense onClick={handleDelete}>\r\n        Delete\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default MessageMenu;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  Message: {\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n    maxWidth: \"70%\",\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(1.5)}px ${theme.spacing(\r\n      0.5\r\n    )}px`,\r\n    borderRadius: theme.shape.borderRadius * 3,\r\n    \"&:before\": {\r\n      position: \"absolute\",\r\n      bottom: -1,\r\n      width: 15,\r\n      height: 20,\r\n      content: \"''\"\r\n    },\r\n    \"& p\": {\r\n      alignSelf: \"flex-end\",\r\n      wordWrap: \"break-word\",\r\n      overflowWrap: \"break-word\",\r\n      paddingBottom: theme.spacing(2),\r\n      minWidth: 20\r\n    },\r\n    \"& span\": {\r\n      alignSelf: \"flex-end\",\r\n      opacity: 0.54\r\n    }\r\n  },\r\n  Message_content: {\r\n    display: \"flex\",\r\n    margin: `${theme.spacing(1)}px 0`\r\n  },\r\n  Message_content_receiver: {\r\n    justifyContent: \"flex-start\"\r\n  },\r\n  Message_content_sender: {\r\n    justifyContent: \"flex-end\"\r\n  },\r\n  Message_receiver: {\r\n    background:\r\n      theme.palette.type === \"dark\"\r\n        ? theme.lighten(theme.palette.background.default, 0.235)\r\n        : theme.darken(theme.palette.background.default, 0.057),\r\n    \"&:before\": {\r\n      left: -10,\r\n      transform: \"rotate(-15deg)\",\r\n      borderBottom: `15px solid ${\r\n        theme.palette.type === \"dark\"\r\n          ? theme.lighten(theme.palette.background.default, 0.235)\r\n          : theme.darken(theme.palette.background.default, 0.057)\r\n      }`,\r\n      borderLeft: \"15px solid transparent\"\r\n    }\r\n  },\r\n  Message_sender: {\r\n    background: theme.palette.secondary.dark,\r\n    color: theme.palette.getContrastText(theme.palette.secondary.dark),\r\n    \"&:before\": {\r\n      right: -10,\r\n      transform: \"rotate(15deg)\",\r\n      borderBottom: `15px solid ${theme.palette.secondary.dark}`,\r\n      borderRight: \"15px solid transparent\"\r\n    }\r\n  }\r\n}));\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { DELETE_MESSAGE } from \"graphql/queries/index\";\r\nimport cx from \"classnames\";\r\nimport { formatDate } from \"utils/index\";\r\nimport MessageMenu from \"./MessageMenu\";\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst Message = ({ isOwner, text, createdAt, ...props }) => {\r\n  const classes = useStyles();\r\n  const [contextMenu, setContextMenu] = React.useState(null);\r\n\r\n  const handleClose = () => setContextMenu(null);\r\n\r\n  const handleOpen = e => {\r\n    e.preventDefault();\r\n    setContextMenu(e.currentTarget);\r\n  };\r\n\r\n  const handleDelete = () =>\r\n    deleteMessage({ variables: { messageId: props.id } });\r\n\r\n  const [deleteMessage] = useLazyQuery(DELETE_MESSAGE);\r\n\r\n  return (\r\n    <div\r\n      className={cx(classes.Message_content, {\r\n        [classes.Message_content_sender]: isOwner,\r\n        [classes.Message_content_receiver]: !isOwner\r\n      })}\r\n    >\r\n      <div\r\n        onContextMenu={handleOpen}\r\n        className={cx(classes.Message, {\r\n          [classes.Message_sender]: isOwner,\r\n          [classes.Message_receiver]: !isOwner\r\n        })}\r\n      >\r\n        <Typography variant=\"body2\">{text}</Typography>\r\n        <Typography variant=\"caption\">{formatDate(createdAt)}</Typography>\r\n      </div>\r\n      <MessageMenu\r\n        anchorEl={contextMenu}\r\n        onClose={handleClose}\r\n        onDelete={handleDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  DirectFallback: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  }\r\n}));\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useStyles } from \"./styles\";\r\n\r\nexport const DirectFallback = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.DirectFallback}>\r\n      <Typography variant=\"body2\">No messages here yet...</Typography>\r\n    </div>\r\n  );\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(() => ({\r\n  DirectChat_header: {\r\n    width: \"100%\",\r\n    paddingLeft: 0,\r\n    paddingRight: 0\r\n  }\r\n}));\r\n","import React from \"react\";\r\nimport { ListItem, ListItemText } from \"@material-ui/core\";\r\nimport { formatDate } from \"utils/index\";\r\nimport MainBlock from \"components/MainBlock\";\r\nimport Avatar from \"components/Avatar\";\r\nimport ChatWindow from \"components/ChatWindow\";\r\nimport Message from \"components/Message\";\r\nimport { DirectFallback } from \"components/Fallback\";\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst DirectChat = ({\r\n  user,\r\n  show,\r\n  directId,\r\n  directUser,\r\n  directMessages,\r\n  subscribeToMore,\r\n  onCreateMessage\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const renderMessages = React.useMemo(() => {\r\n    return !directMessages ? (\r\n      <DirectFallback />\r\n    ) : (\r\n      directMessages.map(msg => (\r\n        <Message key={msg.id} {...msg} isOwner={msg.user.id === user.id} />\r\n      ))\r\n    );\r\n  }, [directMessages]);\r\n\r\n  return (\r\n    <MainBlock\r\n      show={show}\r\n      header={\r\n        <ListItem dense className={classes.DirectChat_header}>\r\n          <ListItemText\r\n            primary={directUser.username}\r\n            primaryTypographyProps={{ component: \"div\" }}\r\n            secondary={`last seen ${formatDate(directUser.createdAt)}`}\r\n            secondaryTypographyProps={{ variant: \"caption\" }}\r\n          />\r\n          <Avatar src={directUser.avatar} alt={directUser.username} />\r\n        </ListItem>\r\n      }\r\n    >\r\n      <ChatWindow\r\n        chatId={directId}\r\n        onSendMessage={onCreateMessage}\r\n        subscribeToNewMessage={subscribeToMore}\r\n      >\r\n        {renderMessages}\r\n      </ChatWindow>\r\n    </MainBlock>\r\n  );\r\n};\r\n\r\nexport default DirectChat;\r\n","import React from \"react\";\r\nimport { USER, DIRECT, NEW_MESSAGE } from \"graphql/queries\";\r\nimport { CREATE_DIRECT, CREATE_MESSAGE } from \"graphql/mutations\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { get } from \"lodash-es\";\r\nimport DirectChat from \"components/DirectChat\";\r\n\r\nconst DirectChatContainer = ({ userId }) => {\r\n  const userData = useQuery(USER);\r\n  const user = get(userData, \"data.user\", {});\r\n\r\n  const directData = useQuery(DIRECT, { variables: { userId } });\r\n  const direct = get(directData, \"data.direct.direct\", {});\r\n  const directUser = get(directData, \"data.direct.recipient\", {});\r\n\r\n  const [createDirect] = useMutation(CREATE_DIRECT);\r\n  const [createMessage] = useMutation(CREATE_MESSAGE);\r\n\r\n  const subscribeToNewDirectMessage = chatId => {\r\n    return directData.subscribeToMore({\r\n      document: NEW_MESSAGE,\r\n      variables: { chatId },\r\n      updateQuery: (prev, { subscriptionData }) => {\r\n        if (!subscriptionData.data) return prev;\r\n\r\n        return {\r\n          direct: {\r\n            ...prev.direct,\r\n            direct: {\r\n              ...prev.direct.direct,\r\n              messages: [\r\n                ...prev.direct.direct.messages,\r\n                subscriptionData.data.newMessage\r\n              ]\r\n            }\r\n          }\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  const onCreateMessage = text => {\r\n    if (!direct) {\r\n      createDirect({\r\n        variables: {\r\n          userId: directUser.id,\r\n          text\r\n        }\r\n      });\r\n    } else {\r\n      createMessage({\r\n        variables: { text, chatId: direct.id }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DirectChat\r\n      show={!!userId}\r\n      user={user}\r\n      subscribeToMore={subscribeToNewDirectMessage}\r\n      onCreateMessage={onCreateMessage}\r\n      directId={direct.id}\r\n      directUser={directUser}\r\n      directMessages={direct.messages}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DirectChatContainer;\r\n","import React from \"react\";\r\nimport { pasreQuery } from \"utils/index\";\r\nimport DirectChatContainer from \"containers/DirectChatContainer\";\r\n\r\nconst Home = props => {\r\n  const { p } = pasreQuery(props.location);\r\n\r\n  return <DirectChatContainer userId={p} />;\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}