(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{249:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n.n(a),i=n(57),o=n(44),c=n(18),s=n(16),u=n(0),l=n.n(u),m=n(253),h=n(254),p=n(91),f=n(250),b=n(251),d=n(46),g=n(25),v=n(41),E=n(76),x=n(62),j=n(213),w=n(111),O=Object(j.a)((function(e){return{Login:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100vh",width:"100vw"}}}));t.default=Object(E.b)(null,(function(e){return{dispatchLogin:function(t){return e(Object(x.b)(t))}}}))((function(e){var t=O(),n=l.a.useState({}),a=Object(s.a)(n,2),u=a[0],E=a[1],x=l.a.useState({}),j=Object(s.a)(x,2),y=j[0],L=j[1],k=Object(g.b)(v.h),C=Object(s.a)(k,1)[0],W=Object(g.b)(v.e),J=Object(s.a)(W,1)[0],Q=/\/registration/.test(e.location.pathname),S=function(e){var t=e.target,n=t.name,a=t.value;E((function(e){return Object(c.a)({},e,Object(o.a)({},n,a))}))},T=function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Q){t.next=4;break}e.history.push("/login"),t.next=7;break;case 4:return t.next=6,e.dispatchLogin(n);case 6:e.history.push("/");case 7:L({});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Q){e.next=6;break}return e.next=4,C({variables:u}).then((function(e){var t=e.data;return T(t.register)})).then((function(){return alert("Check your email")})).catch((function(e){e.graphQLErrors&&e.graphQLErrors.forEach((function(e){return L(e.extensions.validationErrors)}))}));case 4:e.next=8;break;case 6:return e.next=8,J({variables:u}).then((function(e){var t=e.data;T(t.login),w.b.subscriptionClient.tryReconnect()})).catch((function(e){e.graphQLErrors&&e.graphQLErrors.forEach((function(e){return L(e.extensions.validationErrors)}))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:t.Login},l.a.createElement(h.a,{maxWidth:300},l.a.createElement(p.a,{variant:"h6",gutterBottom:!0},Q?"Join":"Login"),l.a.createElement("form",{onSubmit:B},l.a.createElement("div",null,l.a.createElement(m.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:S,value:u.username,label:"Username",name:"username",error:y.username,helperText:y.username}),Q&&l.a.createElement(m.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:S,value:u.email,label:"Email",name:"email",error:y.email,helperText:y.email}),l.a.createElement(m.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:S,value:u.password,label:"Password",name:"password",type:"password",error:y.password,helperText:y.password})),l.a.createElement(p.a,{align:"center",variant:"body2",gutterBottom:!0},Q?l.a.createElement(f.a,{align:"center",component:d.b,to:"/"},"Already have an account?"):l.a.createElement(f.a,{align:"center",component:d.b,to:"/registration"},"Not a member?")),l.a.createElement(b.a,{type:"submit",fullWidth:!0},Q?"Join":"Login"))))}))}}]);
//# sourceMappingURL=6.f513d0a9.chunk.js.map