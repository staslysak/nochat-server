(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{142:function(e,n,t){"use strict";t.d(n,"h",(function(){return p})),t.d(n,"e",(function(){return v})),t.d(n,"j",(function(){return b})),t.d(n,"a",(function(){return $})),t.d(n,"b",(function(){return j})),t.d(n,"d",(function(){return E})),t.d(n,"c",(function(){return O})),t.d(n,"g",(function(){return w})),t.d(n,"f",(function(){return x})),t.d(n,"i",(function(){return y}));var r=t(144),a=t(145),i=t.n(a);function u(){var e=Object(r.a)(["\n  mutation userTyping($chatId: Int!, $username: String) {\n    userTyping(chatId: $chatId, username: $username)\n  }\n"]);return u=function(){return e},e}function o(){var e=Object(r.a)(["\n  mutation logout {\n    logout\n  }\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n  mutation readMessage($id: Int!) {\n    readMessage(id: $id)\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(r.a)(["\n  mutation deleteDirect($id: Int!) {\n    deleteDirect(id: $id)\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n  mutation deleteMessage($id: Int!) {\n    deleteMessage(id: $id)\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n  mutation createMessage($chatId: Int, $text: String!) {\n    createMessage(chatId: $chatId, text: $text)\n  }\n"]);return d=function(){return e},e}function f(){var e=Object(r.a)(["\n  mutation createDirect($userId: Int!, $text: String) {\n    createDirect(userId: $userId, text: $text) {\n      id\n    }\n  }\n"]);return f=function(){return e},e}function m(){var e=Object(r.a)(["\n  mutation verifyUser($secret: String!) {\n    verifyUser(secret: $secret) {\n      token\n      refreshToken\n    }\n  }\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      refreshToken\n    }\n  }\n"]);return g=function(){return e},e}function h(){var e=Object(r.a)(["\n  mutation register($username: String!, $email: String!, $password: String!) {\n    register(username: $username, email: $email, password: $password)\n  }\n"]);return h=function(){return e},e}var p=i()(h()),v=i()(g()),b=i()(m()),$=i()(f()),j=i()(d()),E=i()(l()),O=i()(s()),w=i()(c()),x=i()(o()),y=i()(u())},216:function(e,n,t){"use strict";t.r(n);var r=t(140),a=t.n(r),i=t(141),u=t(47),o=t(19),c=t(139),s=t(1),l=t.n(s),d=t(222),f=t(223),m=t(206),g=t(217),h=t(218),p=t(48),v=t(119),b=t(142),$=t(200),j=t(52),E=t(18),O=Object($.a)((function(e){return{Login:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100vh",width:"100vw"}}}));n.default=function(e){var n=O(),t=l.a.useState({}),r=Object(c.a)(t,2),s=r[0],$=r[1],w=l.a.useState({}),x=Object(c.a)(w,2),y=x[0],I=x[1],S=Object(v.b)(b.h),k=Object(c.a)(S,1)[0],L=Object(v.b)(b.e),T=Object(c.a)(L,1)[0],C=/\/registration/.test(e.location.pathname),D=function(e){var n=e.target,t=n.name,r=n.value;$((function(e){return Object(o.a)({},e,Object(u.a)({},t,r))}))},M=function(){var n=Object(i.a)(a.a.mark((function n(t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:C?e.history.push("/login"):(E.a.set(t),e.history.push("/me")),I({});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!C){e.next=6;break}return e.next=4,k({variables:s}).then((function(e){var n=e.data;return M(n.register)})).then((function(){return alert("Check your email")})).catch((function(e){e.graphQLErrors&&e.graphQLErrors.forEach((function(e){return I(e.extensions.validationErrors)}))}));case 4:e.next=8;break;case 6:return e.next=8,T({variables:s}).then((function(e){var n=e.data;M(n.login),j.b.subscriptionClient.tryReconnect()})).catch((function(e){e.graphQLErrors&&e.graphQLErrors.forEach((function(e){return I(e.extensions.validationErrors)}))}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:n.Login},l.a.createElement(f.a,{maxWidth:300},l.a.createElement(m.a,{variant:"h6",gutterBottom:!0},C?"Join":"Login"),l.a.createElement("form",{onSubmit:W},l.a.createElement("div",null,l.a.createElement(d.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:D,value:s.username,label:"Username",name:"username",error:y.username,helperText:y.username}),C&&l.a.createElement(d.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:D,value:s.email,label:"Email",name:"email",error:y.email,helperText:y.email}),l.a.createElement(d.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:D,value:s.password,label:"Password",name:"password",type:"password",error:y.password,helperText:y.password})),l.a.createElement(m.a,{align:"center",variant:"body2",gutterBottom:!0},C?l.a.createElement(g.a,{align:"center",component:p.b,to:"/"},"Already have an account?"):l.a.createElement(g.a,{align:"center",component:p.b,to:"/registration"},"Not a member?")),l.a.createElement(h.a,{type:"submit",fullWidth:!0},C?"Join":"Login"))))}}}]);
//# sourceMappingURL=8.00583785.chunk.js.map