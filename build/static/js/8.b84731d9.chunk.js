(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{162:function(e,n,t){"use strict";t.d(n,"h",(function(){return b})),t.d(n,"e",(function(){return p})),t.d(n,"j",(function(){return v})),t.d(n,"a",(function(){return $})),t.d(n,"b",(function(){return j})),t.d(n,"d",(function(){return x})),t.d(n,"c",(function(){return O})),t.d(n,"g",(function(){return E})),t.d(n,"f",(function(){return w})),t.d(n,"i",(function(){return y}));var r=t(164),a=t(165),i=t.n(a);function u(){var e=Object(r.a)(["\n  mutation userTyping($chatId: Int!, $username: String) {\n    userTyping(chatId: $chatId, username: $username)\n  }\n"]);return u=function(){return e},e}function c(){var e=Object(r.a)(["\n  mutation logout {\n    logout\n  }\n"]);return c=function(){return e},e}function o(){var e=Object(r.a)(["\n  mutation readMessage($id: Int!) {\n    readMessage(id: $id)\n  }\n"]);return o=function(){return e},e}function s(){var e=Object(r.a)(["\n  mutation deleteDirect($id: Int!) {\n    deleteDirect(id: $id)\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n  mutation deleteMessage($id: Int!) {\n    deleteMessage(id: $id)\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n  mutation createMessage($chatId: Int, $text: String!) {\n    createMessage(chatId: $chatId, text: $text)\n  }\n"]);return d=function(){return e},e}function f(){var e=Object(r.a)(["\n  mutation createDirect($userId: Int!, $text: String) {\n    createDirect(userId: $userId, text: $text) {\n      id\n    }\n  }\n"]);return f=function(){return e},e}function m(){var e=Object(r.a)(["\n  mutation verifyUser($secret: String!) {\n    verifyUser(secret: $secret) {\n      token\n      refreshToken\n    }\n  }\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      refreshToken\n    }\n  }\n"]);return g=function(){return e},e}function h(){var e=Object(r.a)(["\n  mutation register($username: String!, $email: String!, $password: String!) {\n    register(username: $username, email: $email, password: $password)\n  }\n"]);return h=function(){return e},e}var b=i()(h()),p=i()(g()),v=i()(m()),$=i()(f()),j=i()(d()),x=i()(l()),O=i()(s()),E=i()(o()),w=i()(c()),y=i()(u())},237:function(e,n,t){"use strict";t.r(n);var r=t(160),a=t.n(r),i=t(161),u=t(30),c=t(23),o=t(159),s=t(1),l=t.n(s),d=t(243),f=t(244),m=t(227),g=t(238),h=t(239),b=t(62),p=t(138),v=t(162),$=t(39),j=t(63),x=t(221),O=t(65),E=Object(x.a)((function(e){return{Login:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100vh",width:"100vw"}}}));n.default=Object($.b)(null,(function(e){return{dispatchLogin:function(n){return e(Object(j.b)(n))}}}))((function(e){var n=E(),t=l.a.useState({}),r=Object(o.a)(t,2),s=r[0],$=r[1],j=l.a.useState({}),x=Object(o.a)(j,2),w=x[0],y=x[1],I=Object(p.b)(v.h),k=Object(o.a)(I,1)[0],S=Object(p.b)(v.e),L=Object(o.a)(S,1)[0],T=/\/registration/.test(e.location.pathname),C=function(e){var n=e.target,t=n.name,r=n.value;$((function(e){return Object(c.a)({},e,Object(u.a)({},t,r))}))},D=function(){var n=Object(i.a)(a.a.mark((function n(t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!T){n.next=4;break}e.history.push("/login"),n.next=7;break;case 4:return n.next=6,e.dispatchLogin(t);case 6:e.history.push("/me");case 7:y({});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!T){e.next=6;break}return e.next=4,k({variables:s}).then((function(e){var n=e.data;return D(n.register)})).then((function(){return alert("Check your email")})).catch((function(e){e.graphQLErrors&&e.graphQLErrors.forEach((function(e){return y(e.extensions.validationErrors)}))}));case 4:e.next=8;break;case 6:return e.next=8,L({variables:s}).then((function(e){var n=e.data;D(n.login),O.b.subscriptionClient.tryReconnect()})).catch((function(e){e.graphQLErrors&&e.graphQLErrors.forEach((function(e){return y(e.extensions.validationErrors)}))}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:n.Login},l.a.createElement(f.a,{maxWidth:300},l.a.createElement(m.a,{variant:"h6",gutterBottom:!0},T?"Join":"Login"),l.a.createElement("form",{onSubmit:M},l.a.createElement("div",null,l.a.createElement(d.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:C,value:s.username,label:"Username",name:"username",error:w.username,helperText:w.username}),T&&l.a.createElement(d.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:C,value:s.email,label:"Email",name:"email",error:w.email,helperText:w.email}),l.a.createElement(d.a,{fullWidth:!0,margin:"dense",variant:"outlined",onChange:C,value:s.password,label:"Password",name:"password",type:"password",error:w.password,helperText:w.password})),l.a.createElement(m.a,{align:"center",variant:"body2",gutterBottom:!0},T?l.a.createElement(g.a,{align:"center",component:b.b,to:"/"},"Already have an account?"):l.a.createElement(g.a,{align:"center",component:b.b,to:"/registration"},"Not a member?")),l.a.createElement(h.a,{type:"submit",fullWidth:!0},T?"Join":"Login"))))}))}}]);
//# sourceMappingURL=8.b84731d9.chunk.js.map