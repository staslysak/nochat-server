(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],{113:function(e,n,t){"use strict";t.r(n);var r=t(1),o=t.n(r),a=t(46),c=t(117),i=t(52),u=t(133),s=t(75),l=t(31),f=t(32),h=t(42),m=window.matchMedia("(prefers-color-scheme: dark)").matches,d=Object(s.a)({palette:{type:m?"dark":"light",primary:l.a,secondary:f.a},props:{sidebar:280,sidebarMin:150,classes:{ellipsis:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}},lighten:h.lighten,darken:h.darken}),p=t(50),g=t(17),k=t(48),v=t(130),b=t(73),w=t.n(b),E=t(18),x=function(e){return w()({loader:e,loading:function(e){return e.error&&console.error(e.error),null}})},y=function(e){var n=e.component,t=Object(p.a)(e,["component"]);return o.a.createElement(g.b,Object.assign({},t,{render:function(e){return Object(E.d)()?o.a.createElement(n,e):o.a.createElement(g.a,{to:"/login"})}}))},O=[{path:"/me",exact:!1,component:x((function(){return Promise.all([t.e(0),t.e(1),t.e(5),t.e(7)]).then(t.bind(null,221))}))}],T=[{path:"/(login|registration)",exact:!0,component:x((function(){return Promise.all([t.e(0),t.e(1),t.e(6),t.e(8)]).then(t.bind(null,216))}))},{path:"/verify",exact:!0,component:x((function(){return Promise.all([t.e(0),t.e(9)]).then(t.bind(null,219))}))}],j=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,null),o.a.createElement(k.a,null,o.a.createElement(g.d,null,O.map((function(e){return o.a.createElement(y,Object.assign({key:e.path},e))})),T.map((function(e){return o.a.createElement(g.b,Object.assign({key:e.path},e))})),o.a.createElement(g.b,{path:"*",render:function(){return o.a.createElement(g.a,{to:Object(E.d)()?"/me":"/login"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(a.render)(o.a.createElement(c.a,{client:i.a},o.a.createElement(u.a,{theme:d},o.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"e",(function(){return l})),t.d(n,"d",(function(){return f})),t.d(n,"h",(function(){return h})),t.d(n,"b",(function(){return m})),t.d(n,"c",(function(){return d})),t.d(n,"f",(function(){return p})),t.d(n,"g",(function(){return g}));t(19);var r=t(30),o=t.n(r),a=t(39),c=t.n(a),i=t(40),u=t.n(i),s={get:function(){return{token:localStorage.getItem("token"),refreshToken:localStorage.getItem("refreshToken")}},set:function(e){var n=e.token,t=e.refreshToken;localStorage.setItem("token",n),localStorage.setItem("refreshToken",t)},remove:function(){localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}},l=function(e){return o.a.parse(e.search,{arrayFormat:"comma",skipNull:!0,parseNumbers:!0})},f=function(){var e=s.get(),n=e.token,t=e.refreshToken;try{u()(n);var r=u()(t).exp;if(Date.now()/1e3>r)return!1}catch(o){return!1}return!0},h=function(e,n){return n.lastMessage.createdAt-e.lastMessage.createdAt},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"days";return c()().diff(+e,n)},d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm";if(e)return c()(+e).format(n)},p=function(e){switch(m(+e)){case 0:return"Today";case 1:return"Yesterday";default:return d(e,"MMMM D")}},g=function(e){var n={};return e.length&&e.forEach((function(e,t){var r=e.createdAt,o=m(r,"days");void 0===n[o]&&(n[o]=t)})),n}},52:function(e,n,t){"use strict";t.d(n,"b",(function(){return m})),t.d(n,"a",(function(){return v}));var r=t(19),o=t(61),a=t(77),c=t(67),i=t(5),u=t(76),s=t(69),l=t(2),f=t(18),h=new a.a({uri:"".concat("https://floating-sierra-09967.herokuapp.com","/graphql")}),m=new c.a({uri:"".concat("wss://floating-sierra-09967.herokuapp.com","/graphql"),options:{reconnect:!0,connectionParams:function(){var e=f.a.get();return{"x-token":e.token,"x-refresh-token":e.refreshToken}}}}),d=new i.a((function(e,n){return n(e).map((function(n){var t=e.getContext().response.headers,r=t.get("x-token"),o=t.get("x-refresh-token");return r&&o&&f.a.set({token:r,refreshToken:o}),n}))})),p=new i.a((function(e,n){return e.setContext((function(e){var n=e.headers,t=f.a.get(),o=t.token,a=t.refreshToken;return{headers:Object(r.a)({},n,{"x-token":o,"x-refresh-token":a})}})),n(e)})),g=Object(s.a)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.forEach((function(e){var n=e.message,t=e.locations,r=e.path,o=e.extensions;console.log("[GraphQL error]: \n          Message: ".concat(n,", \n          Location: ").concat(t,", \n          Path: ").concat(r)),["UNAUTHENTICATED","INTERNAL_SERVER_ERROR"].includes(o.code)})),t&&console.log("[Network error]: ".concat(t))})).concat(d.concat(p.concat(h))),k=Object(i.d)((function(e){var n=e.query,t=Object(l.l)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),m,g),v=new o.a({link:k,cache:new u.a})},79:function(e,n,t){e.exports=t(113)}},[[79,3,4]]]);
//# sourceMappingURL=main.42dac91d.chunk.js.map