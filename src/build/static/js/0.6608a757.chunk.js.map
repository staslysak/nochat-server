{"version":3,"sources":["pages/VerifyUser/index.js"],"names":["connect","dispatchLogin","dispatchLogout","props","useMutation","VERIFY_USER","verifyUser","React","useEffect","token","pasreQuery","location","variables","secret","then","data","catch","finally","history","push"],"mappings":"6KAqBeA,sBAAQ,KAAM,CAAEC,kBAAeC,oBAA/BF,EAdI,SAACG,GAAW,IAAD,EACPC,YAAYC,KAA1BC,EADqB,oBAW5B,OARAC,IAAMC,WAAU,WAAO,IACbC,EAAUC,YAAWP,EAAMQ,UAA3BF,MACRH,EAAW,CAAEM,UAAW,CAAEC,OAAQJ,KAC/BK,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcZ,EAAMF,cAAcc,EAAKT,eAC5CU,OAAM,kBAAMb,EAAMD,oBAClBe,SAAQ,kBAAMd,EAAMe,QAAQC,KAAK,UACnC,CAAChB,EAAOG,IAEJ","file":"static/js/0.6608a757.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { VERIFY_USER } from \"graphql/mutations\";\r\nimport { connect } from \"react-redux\";\r\nimport { dispatchLogin, dispatchLogout } from \"redux/actions\";\r\nimport { pasreQuery } from \"utils/index\";\r\n\r\nconst VerifyUser = (props) => {\r\n  const [verifyUser] = useMutation(VERIFY_USER);\r\n\r\n  React.useEffect(() => {\r\n    const { token } = pasreQuery(props.location);\r\n    verifyUser({ variables: { secret: token } })\r\n      .then(({ data }) => props.dispatchLogin(data.verifyUser))\r\n      .catch(() => props.dispatchLogout())\r\n      .finally(() => props.history.push(\"/\"));\r\n  }, [props, verifyUser]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default connect(null, { dispatchLogin, dispatchLogout })(VerifyUser);\r\n"],"sourceRoot":""}