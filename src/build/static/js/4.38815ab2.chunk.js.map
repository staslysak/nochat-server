{"version":3,"sources":["../node_modules/@material-ui/core/esm/SvgIcon/index.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@material-ui/icons/Send.js","../node_modules/@material-ui/icons/utils/createSvgIcon.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/classnames/index.js","components/ChatWindow/styles.js","components/ChatWindow/index.js","components/ChatWindow/ChatInput.js","components/Message/MessageMenu.js","components/Message/styles.js","components/Message/index.js","components/Fallback/styles.js","components/Fallback/index.js","components/DirectChat/styles.js","components/DirectChat/index.js","containers/DirectChatContainer.js","pages/Home/index.js"],"names":["module","exports","obj","__esModule","_interopRequireDefault","require","Object","defineProperty","value","default","_react","_default","createElement","d","path","displayName","Component","memo","forwardRef","props","ref","_SvgIcon","_extends2","process","muiName","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","hasOwn","classNames","classes","arg","argType","push","Array","isArray","inner","join","useStyles","makeStyles","theme","ChatWindow","position","height","maxHeight","display","flexDirection","ChatWindow_input_wrapper","alignSelf","alignItems","width","borderTop","palette","divider","fontSize","typography","body2","ChatWindow_input","minHeight","padding","spacing","ChatWindow_empty","justifyContent","ChatWindow_content","overflow","background","type","lighten","darken","borderRadius","shape","chatWindowRef","React","createRef","handleViewUpdate","useCallback","current","scrollTop","scrollHeight","children","useEffect","className","withRouter","inputRef","focus","location","InputBase","fullWidth","multiline","rowsMax","onChange","onKeyPress","placeholder","IconButton","onClick","a","handleOnClick","disabled","trim","MessageMenu","anchorEl","onClose","onDelete","onCopy","handleActions","callback","Menu","open","Boolean","MenuItem","dense","Message","maxWidth","bottom","content","wordWrap","overflowWrap","paddingBottom","minWidth","opacity","Message_content","margin","Message_content_receiver","Message_content_sender","Message_receiver","left","transform","borderBottom","borderLeft","Message_sender","secondary","dark","color","getContrastText","right","borderRight","useState","contextMenu","setContextMenu","cx","isOwner","onContextMenu","e","preventDefault","currentTarget","Typography","variant","text","formatDate","date","menuProps","navigator","clipboard","writeText","DirectFallback","DirectChat_header","paddingLeft","paddingRight","DirectChat","message","setMessage","unsubsribe","chatId","subscribeToNewMessage","subscribeToDeleteMessage","subscribeToDeleteDirect","subscribeToNewDirect","handleSendMessage","onCreateMessage","renderMessages","useMemo","messages","map","id","createdAt","userId","user","onDeleteMessage","MainBlock","show","header","ListItem","ListItemText","primary","recipient","username","primaryTypographyProps","component","online","lastSeen","secondaryTypographyProps","style","Avatar","src","avatar","alt","shiftKey","DirectChatContainer","useDirectChatFetch","queries","currentUser","currentDirect","mutations","createDirect","createMessage","deleteMessage","direct","get","variables","subscribeToMore","document","NEW_DIRECT_SUBSCRIPTION","updateQuery","prev","subscriptionData","data","newDirect","lastMessage","NEW_MESSAGE_SUBSCRIPTION","newMessage","DELETE_MESSAGE_SUBSCRIPTION","filter","DELETE_DIRECT_SUBSCRIPTION","deleteDirect","Home","p","pasreQuery"],"mappings":"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","file":"static/js/4.38815ab2.chunk.js","sourcesContent":["export { default } from './SvgIcon';","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  ChatWindow: {\r\n    position: \"relative\",\r\n    height: \"100%\",\r\n    maxHeight: \"calc(100% - 65px)\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  ChatWindow_input_wrapper: {\r\n    alignSelf: \"flex-end\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    borderTop: `1px solid ${theme.palette.divider}`,\r\n    \"& .MuiInputBase-root\": {\r\n      fontSize: theme.typography.body2.fontSize\r\n    }\r\n  },\r\n  ChatWindow_input: {\r\n    minHeight: 64,\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(1.5)}px ${theme.spacing(\r\n      0.5\r\n    )}px ${theme.spacing(2)}px`,\r\n    \"& .MuiInputBase-inputMultiline\": {\r\n      \"&::-webkit-scrollbar\": { display: \"none\" }\r\n    }\r\n  },\r\n  ChatWindow_empty: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  ChatWindow_content: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n    overflow: \"auto\",\r\n    background: \"transparent\",\r\n    padding: theme.spacing(2),\r\n    \"&::-webkit-scrollbar\": {\r\n      width: 5,\r\n      background: \"transparent\",\r\n      \"&-thumb\": {\r\n        background:\r\n          theme.palette.type === \"dark\"\r\n            ? theme.lighten(theme.palette.background.default, 0.235)\r\n            : theme.darken(theme.palette.background.default, 0.057),\r\n        borderRadius: theme.shape.borderRadius * 3,\r\n        display: \"none\"\r\n      }\r\n    },\r\n    \"&:hover::-webkit-scrollbar-thumb\": { display: \"block\" }\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from \"react\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst ChatWindow = (props) => {\r\n  const classes = useStyles();\r\n  const chatWindowRef = React.createRef();\r\n\r\n  const handleViewUpdate = React.useCallback(() => {\r\n    if (chatWindowRef.current) {\r\n      chatWindowRef.current.scrollTop = chatWindowRef.current.scrollHeight;\r\n    }\r\n  }, [props.children]);\r\n\r\n  React.useEffect(() => {\r\n    handleViewUpdate();\r\n  }, [chatWindowRef, handleViewUpdate]);\r\n\r\n  return (\r\n    <div className={classes.ChatWindow}>\r\n      <div className={classes.ChatWindow_content} ref={chatWindowRef}>\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatWindow;\r\n","import React from \"react\";\r\nimport { InputBase, IconButton } from \"@material-ui/core\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport useStyles from \"./styles\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst ChatInput = (props) => {\r\n  const classes = useStyles();\r\n  const inputRef = React.createRef();\r\n\r\n  React.useEffect(() => {\r\n    if (inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [props.location]);\r\n\r\n  const handleOnClick = (inputRef) => async () => {\r\n    if (inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n    props.onClick();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.ChatWindow_input_wrapper}>\r\n      <InputBase\r\n        fullWidth\r\n        multiline\r\n        rowsMax={5}\r\n        inputRef={inputRef}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        onKeyPress={props.onKeyPress}\r\n        placeholder=\"Write a message...\"\r\n        className={classes.ChatWindow_input}\r\n      />\r\n      <IconButton\r\n        onClick={handleOnClick(inputRef)}\r\n        disabled={!props.value.trim().length}\r\n      >\r\n        <SendIcon />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(ChatInput);\r\n","import React from \"react\";\r\nimport { Menu, MenuItem } from \"@material-ui/core\";\r\n\r\nconst MessageMenu = ({ anchorEl, onClose, onDelete, onCopy }) => {\r\n  const handleActions = (callback) => () => {\r\n    callback();\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Menu\r\n      // keepMounted\r\n      // anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\r\n      anchorEl={anchorEl}\r\n      open={Boolean(anchorEl)}\r\n      onClose={onClose}\r\n    >\r\n      <MenuItem dense onClick={handleActions(onDelete)}>\r\n        Delete Message\r\n      </MenuItem>\r\n      <MenuItem dense onClick={handleActions(onCopy)}>\r\n        Copy Text\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default MessageMenu;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  Message: {\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n    maxWidth: \"70%\",\r\n    padding: `${theme.spacing(1)}px ${theme.spacing(1.5)}px ${theme.spacing(\r\n      0.5\r\n    )}px`,\r\n    borderRadius: theme.shape.borderRadius * 3,\r\n    \"&:before\": {\r\n      position: \"absolute\",\r\n      bottom: -1,\r\n      width: 15,\r\n      height: 20,\r\n      content: \"''\",\r\n    },\r\n    \"& p\": {\r\n      alignSelf: \"flex-end\",\r\n      wordWrap: \"break-word\",\r\n      overflowWrap: \"break-word\",\r\n      paddingBottom: theme.spacing(2),\r\n      minWidth: 20,\r\n    },\r\n    \"& span\": {\r\n      alignSelf: \"flex-end\",\r\n      opacity: 0.54,\r\n    },\r\n  },\r\n  Message_content: {\r\n    display: \"flex\",\r\n    margin: `${theme.spacing(1)}px 0`,\r\n  },\r\n  Message_content_receiver: {\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  Message_content_sender: {\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  Message_receiver: {\r\n    background:\r\n      theme.palette.type === \"dark\"\r\n        ? theme.lighten(theme.palette.background.default, 0.235)\r\n        : theme.darken(theme.palette.background.default, 0.057),\r\n    \"&:before\": {\r\n      left: -10,\r\n      transform: \"rotate(-15deg)\",\r\n      borderBottom: `15px solid ${\r\n        theme.palette.type === \"dark\"\r\n          ? theme.lighten(theme.palette.background.default, 0.235)\r\n          : theme.darken(theme.palette.background.default, 0.057)\r\n      }`,\r\n      borderLeft: \"15px solid transparent\",\r\n    },\r\n  },\r\n  Message_sender: {\r\n    background: theme.palette.secondary.dark,\r\n    color: theme.palette.getContrastText(theme.palette.secondary.dark),\r\n    \"&:before\": {\r\n      right: -10,\r\n      transform: \"rotate(15deg)\",\r\n      borderBottom: `15px solid ${theme.palette.secondary.dark}`,\r\n      borderRight: \"15px solid transparent\",\r\n    },\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { Typography, Link } from \"@material-ui/core\";\r\nimport cx from \"classnames\";\r\nimport { formatDate } from \"utils/index\";\r\nimport MessageMenu from \"./MessageMenu\";\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst Message = (props) => {\r\n  const classes = useStyles();\r\n  const [contextMenu, setContextMenu] = React.useState(null);\r\n\r\n  const handleClose = () => setContextMenu(null);\r\n\r\n  const handleOpen = (e) => {\r\n    e.preventDefault();\r\n    setContextMenu(e.currentTarget);\r\n  };\r\n\r\n  const handleCopyMessage = () => {\r\n    navigator.clipboard.writeText(props.text);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cx(classes.Message_content, {\r\n        [classes.Message_content_sender]: props.isOwner,\r\n        [classes.Message_content_receiver]: !props.isOwner,\r\n      })}\r\n    >\r\n      <div\r\n        onContextMenu={handleOpen}\r\n        className={cx(classes.Message, {\r\n          [classes.Message_sender]: props.isOwner,\r\n          [classes.Message_receiver]: !props.isOwner,\r\n        })}\r\n      >\r\n        <Typography variant=\"body2\">\r\n          {props.text}\r\n          {/* <Link href=\"#\" color=\"inherit\" underline=\"always\">\r\n            some@gmail.com\r\n          </Link> */}\r\n        </Typography>\r\n        <Typography variant=\"caption\">{formatDate(props.date)}</Typography>\r\n      </div>\r\n      <MessageMenu\r\n        anchorEl={contextMenu}\r\n        onClose={handleClose}\r\n        {...props.menuProps}\r\n        onCopy={handleCopyMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  DirectFallback: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  }\r\n}));\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useStyles } from \"./styles\";\r\n\r\nexport const DirectFallback = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.DirectFallback}>\r\n      <Typography variant=\"body2\">No messages here yet...</Typography>\r\n    </div>\r\n  );\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles(() => ({\r\n  DirectChat_header: {\r\n    width: \"100%\",\r\n    paddingLeft: 0,\r\n    paddingRight: 0\r\n  }\r\n}));\r\n","import React from \"react\";\r\nimport { ListItem, ListItemText } from \"@material-ui/core\";\r\nimport { formatDate } from \"utils/index\";\r\nimport MainBlock from \"components/MainBlock\";\r\nimport Avatar from \"components/Avatar\";\r\nimport ChatWindow from \"components/ChatWindow\";\r\nimport ChatInput from \"components/ChatWindow/ChatInput\";\r\nimport Message from \"components/Message\";\r\nimport { DirectFallback } from \"components/Fallback\";\r\nimport { useStyles } from \"./styles\";\r\n\r\nconst DirectChat = (props) => {\r\n  const classes = useStyles();\r\n  const [message, setMessage] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    let unsubsribe = () => {};\r\n    if (props.chatId) unsubsribe = props.subscribeToNewMessage(props.chatId);\r\n    return () => unsubsribe(props.chatId);\r\n  }, [props.chatId]);\r\n\r\n  React.useEffect(() => {\r\n    let unsubsribe = () => {};\r\n    if (props.chatId) unsubsribe = props.subscribeToDeleteMessage(props.chatId);\r\n    return () => unsubsribe(props.chatId);\r\n  }, [props.chatId]);\r\n\r\n  React.useEffect(() => {\r\n    let unsubsribe = () => {};\r\n    if (props.chatId) unsubsribe = props.subscribeToDeleteDirect(props.chatId);\r\n    return () => unsubsribe(props.chatId);\r\n  }, [props.chatId]);\r\n\r\n  React.useEffect(() => {\r\n    let unsubsribe = props.subscribeToNewDirect();\r\n    return () => unsubsribe();\r\n  }, []);\r\n\r\n  const handleSendMessage = () => {\r\n    if (message.trim().length) {\r\n      props.onCreateMessage(message);\r\n    }\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const handleChange = (e) => setMessage(e.target.value);\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const renderMessages = React.useMemo(\r\n    () =>\r\n      props.messages &&\r\n      props.messages.map((message) => (\r\n        <Message\r\n          key={message.id}\r\n          text={message.text}\r\n          date={message.createdAt}\r\n          isOwner={message.userId === props.user.id}\r\n          menuProps={{\r\n            onDelete: props.onDeleteMessage(message.id),\r\n          }}\r\n        />\r\n      )),\r\n    [props.messages]\r\n  );\r\n\r\n  return (\r\n    <MainBlock\r\n      show={props.show}\r\n      header={\r\n        <ListItem dense className={classes.DirectChat_header}>\r\n          <ListItemText\r\n            primary={props.recipient.username}\r\n            primaryTypographyProps={{ component: \"div\" }}\r\n            secondary={\r\n              props.recipient.online\r\n                ? \"online\"\r\n                : formatDate(props.recipient.lastSeen, \"last seen \")\r\n            }\r\n            secondaryTypographyProps={{\r\n              variant: \"caption\",\r\n              style: props.recipient.online ? { color: \"#90caf9\" } : {},\r\n            }}\r\n          />\r\n          <Avatar\r\n            src={props.recipient.avatar}\r\n            alt={props.recipient.username}\r\n            online={props.recipient.online}\r\n          />\r\n        </ListItem>\r\n      }\r\n    >\r\n      <ChatWindow>\r\n        {!props.messages ? <DirectFallback /> : renderMessages}\r\n      </ChatWindow>\r\n      <ChatInput\r\n        value={message}\r\n        onChange={handleChange}\r\n        onKeyPress={handleKeyPress}\r\n        onClick={handleSendMessage}\r\n      />\r\n    </MainBlock>\r\n  );\r\n};\r\n\r\nexport default DirectChat;\r\n","import React from \"react\";\r\nimport {\r\n  NEW_MESSAGE_SUBSCRIPTION,\r\n  NEW_DIRECT_SUBSCRIPTION,\r\n  DELETE_MESSAGE_SUBSCRIPTION,\r\n  DELETE_DIRECT_SUBSCRIPTION,\r\n} from \"graphql/subscriptions\";\r\nimport { get } from \"lodash-es\";\r\nimport DirectChat from \"components/DirectChat\";\r\nimport { useDirectChatFetch } from \"hooks/index\";\r\n\r\nconst DirectChatContainer = ({ userId }) => {\r\n  const {\r\n    queries: { currentUser, currentDirect },\r\n    mutations: { createDirect, createMessage, deleteMessage },\r\n  } = useDirectChatFetch({ userId });\r\n\r\n  const direct = get(currentDirect, \"data.currentDirect.direct\", {});\r\n  const recipient = get(currentDirect, \"data.currentDirect.recipient\", {});\r\n\r\n  const subscribeToNewMessage = (chatId) => {\r\n    return currentDirect.subscribeToMore({\r\n      document: NEW_MESSAGE_SUBSCRIPTION,\r\n      variables: { chatId },\r\n      updateQuery: (prev, { subscriptionData }) => {\r\n        if (!subscriptionData.data) return prev;\r\n        const { newMessage } = subscriptionData.data;\r\n\r\n        return {\r\n          currentDirect: {\r\n            ...prev.currentDirect,\r\n            direct: {\r\n              ...prev.currentDirect.direct,\r\n              messages: [...prev.currentDirect.direct.messages, newMessage],\r\n            },\r\n          },\r\n        };\r\n      },\r\n    });\r\n  };\r\n\r\n  const subscribeToNewDirect = () => {\r\n    return currentDirect.subscribeToMore({\r\n      document: NEW_DIRECT_SUBSCRIPTION,\r\n      updateQuery: (prev, { subscriptionData }) => {\r\n        if (!subscriptionData.data) return prev;\r\n        const { newDirect } = subscriptionData.data;\r\n\r\n        const messages = [newDirect.lastMessage];\r\n\r\n        return {\r\n          currentDirect: {\r\n            ...prev.currentDirect,\r\n            direct: { ...newDirect, messages },\r\n          },\r\n        };\r\n      },\r\n    });\r\n  };\r\n\r\n  const subscribeToDeleteMessage = (chatId) => {\r\n    return currentDirect.subscribeToMore({\r\n      document: DELETE_MESSAGE_SUBSCRIPTION,\r\n      variables: { chatId },\r\n      updateQuery: (prev, { subscriptionData }) => {\r\n        if (!subscriptionData.data) return prev;\r\n        const { deleteMessage } = subscriptionData.data;\r\n\r\n        const messages = prev.currentDirect.direct.messages.filter(\r\n          (message) => message.id !== deleteMessage.id\r\n        );\r\n\r\n        return {\r\n          currentDirect: {\r\n            ...prev.currentDirect,\r\n            direct: { ...prev.currentDirect.direct, messages },\r\n          },\r\n        };\r\n      },\r\n    });\r\n  };\r\n\r\n  const subscribeToDeleteDirect = (chatId) => {\r\n    return currentDirect.subscribeToMore({\r\n      document: DELETE_DIRECT_SUBSCRIPTION,\r\n      variables: { chatId },\r\n      updateQuery: (prev, { subscriptionData }) => {\r\n        if (!subscriptionData.data) return prev;\r\n        const { deleteDirect } = subscriptionData.data;\r\n\r\n        if (deleteDirect.id === chatId) {\r\n          return {\r\n            currentDirect: { ...prev.currentDirect, direct: null },\r\n          };\r\n        }\r\n\r\n        return prev;\r\n      },\r\n    });\r\n  };\r\n\r\n  const onCreateMessage = (text) => {\r\n    if (!direct) {\r\n      createDirect({ variables: { text, userId: recipient.id } });\r\n    } else {\r\n      createMessage({ variables: { text, chatId: direct.id } });\r\n    }\r\n  };\r\n\r\n  const onDeleteMessage = (id) => () => {\r\n    deleteMessage({ variables: { id } });\r\n  };\r\n\r\n  return (\r\n    <DirectChat\r\n      user={get(currentUser, \"data.currentUser\", {})}\r\n      show={!!userId}\r\n      chatId={get(direct, \"id\")}\r\n      recipient={recipient}\r\n      messages={get(direct, \"messages\")}\r\n      onCreateMessage={onCreateMessage}\r\n      onDeleteMessage={onDeleteMessage}\r\n      subscribeToNewDirect={subscribeToNewDirect}\r\n      subscribeToNewMessage={subscribeToNewMessage}\r\n      subscribeToDeleteMessage={subscribeToDeleteMessage}\r\n      subscribeToDeleteDirect={subscribeToDeleteDirect}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DirectChatContainer;\r\n","import React from \"react\";\r\nimport { pasreQuery } from \"utils/index\";\r\nimport DirectChatContainer from \"containers/DirectChatContainer\";\r\n\r\nconst Home = props => {\r\n  const { p } = pasreQuery(props.location);\r\n\r\n  return <DirectChatContainer userId={p} />;\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}