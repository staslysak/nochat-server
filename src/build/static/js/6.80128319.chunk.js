(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{218:function(e,t,a){"use strict";a.r(t);var n=a(59),r=a.n(n),i=a(77),o=a(20),c=a(16),s=a(17),l=a(0),u=a.n(l),m=a(222),h=a(221),p=a(73),f=a(219),b=a(220),d=a(36),v=a(23),g=a(32),x=a(50),E=a(86),w=a(178),j=Object(w.a)((function(e){return{Login:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100vh",width:"100vw"}}}));t.default=Object(x.b)(null,{dispatchLogin:E.a})((function(e){var t=j(),a=u.a.useState({errors:{}}),n=Object(s.a)(a,2),l=n[0],x=n[1],E=Object(v.b)(g.c),w=Object(s.a)(E,1)[0],O=Object(v.b)(g.f),y=Object(s.a)(O,1)[0],k=function(e){var t=e.target,a=t.name,n=t.value;x(Object(c.a)({},l,Object(o.a)({},a,n)))},L=function(e){return x(Object(c.a)({},l,{errors:e}))},W=function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/\/registration/.test(e.location.pathname)){t.next=3;break}t.next=6;break;case 3:return t.next=5,e.dispatchLogin(a);case 5:e.history.push("/");case 6:x(Object(c.a)({},l,{errors:{}}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(i.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!/\/registration/.test(e.location.pathname)){t.next=6;break}return t.next=4,w({variables:l}).then((function(e){var t=e.data;return W(t.createUser)})).then((function(){return alert("we have send an email")})).catch((function(e){var t=e.graphQLErrors[0];t&&L(t.extensions.validationErrors)}));case 4:t.next=8;break;case 6:return t.next=8,y({variables:l}).then((function(e){var t=e.data;return W(t.login)})).catch((function(e){var t=e.graphQLErrors[0];t&&L(t.extensions.validationErrors)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u.a.createElement("div",{className:t.Login},u.a.createElement(h.a,{maxWidth:300},u.a.createElement(p.a,{variant:"h6",gutterBottom:!0},/\/registration/.test(e.location.pathname)?"Join":"Login"),u.a.createElement("form",{onSubmit:C},function(){var t=l.username,a=l.email,n=l.password,r=l.errors;return u.a.createElement("div",null,u.a.createElement(m.a,{margin:"dense",variant:"outlined",fullWidth:!0,onChange:k,value:t,label:"Username",name:"username",error:r.username,helperText:r.username}),/\/registration/.test(e.location.pathname)&&u.a.createElement(m.a,{margin:"dense",variant:"outlined",fullWidth:!0,onChange:k,value:a,label:"Email",name:"email",error:r.email,helperText:r.email}),u.a.createElement(m.a,{margin:"dense",variant:"outlined",fullWidth:!0,onChange:k,value:n,label:"Password",name:"password",type:"password",error:r.password,helperText:r.password}))}(),u.a.createElement(p.a,{align:"center",variant:"body2",gutterBottom:!0},/\/registration/.test(e.location.pathname)?u.a.createElement(f.a,{align:"center",component:d.b,to:"/"},"Already have an account?"):u.a.createElement(f.a,{align:"center",component:d.b,to:"/registration"},"Not a member?")),u.a.createElement(b.a,{type:"submit",fullWidth:!0},/\/registration/.test(e.location.pathname)?"Join":"Login"))))}))}}]);
//# sourceMappingURL=6.80128319.chunk.js.map