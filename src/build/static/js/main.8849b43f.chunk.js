(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{117:function(e,t,n){e.exports=n(149)},149:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),i=n(25),o=n(16),u=n(46),s=n(110),l=n(98),d=n(18),f=n(109),m=n(100),b=n(3),p=new s.a({uri:"http://localhost:8081/graphql"}),h=new l.a({uri:"ws://localhost:8081/graphql",options:{reconnect:!1,connectionParams:function(){return{headers:{"x-token":localStorage.getItem("token"),"x-refresh-token":localStorage.getItem("refreshToken")}}}}}),g=new d.a((function(e,t){return t(e).map((function(t){var n=e.getContext().response.headers,r=n.get("x-token"),a=n.get("x-refresh-token");return r&&a&&(localStorage.setItem("token",r),localStorage.setItem("refreshToken",a)),t}))})),v=new d.a((function(e,t){return e.setContext((function(e){var t=e.headers;return{headers:Object(o.a)({},t,{"x-token":localStorage.getItem("token"),"x-refresh-token":localStorage.getItem("refreshToken")})}})),t(e)})),O=Object(m.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.forEach((function(e){var t=e.message,n=e.locations,r=e.path,a=e.extensions;console.log("[GraphQL error]: \n          Message: ".concat(t,", \n          Location: ").concat(n,", \n          Path: ").concat(r)),"UNAUTHENTICATED"===a.code&&console.log(a.code,"UNAUTHENTICATED"===a.code)})),n&&console.log("[Network error]: ".concat(n))})).concat(g.concat(v.concat(p))),y=Object(d.d)((function(e){var t=e.query,n=Object(b.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),h,O),j=new u.a({link:y,cache:new f.a}),I=n(196),k=n(108),E=n(70),w=n(71),x=n(81),M=window.matchMedia("(prefers-color-scheme: dark)").matches,S=Object(k.a)({palette:{type:M?"dark":"light",primary:E.a,secondary:w.a},props:{sidebar:280,sidebarMin:150,classes:{ellipsis:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}},lighten:x.lighten,darken:x.darken}),T=n(50),D=n(40),N=n(101),$=n(55),_=n(63),C={isAuthorized:!!localStorage.getItem("token")},U=Object(D.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case $.a.auth.LOGIN:return _.a.set(r),Object(o.a)({},e,{isAuthorized:!0});case $.a.auth.LOGOUT:return Object(o.a)({},e,{isAuthorized:!1});default:return Object(o.a)({},e)}}}),A=Object(D.createStore)(U,{},Object(N.composeWithDevTools)(D.applyMiddleware.apply(void 0,[]))),z=n(45),L=n(36),q=n(195),B=n(102),Q=n.n(B),G=n(4),W=n(194),P=n(178),R=n(59),F=n.n(R),H=n(77),Y=n(31),J=n(17),K=n(28),V=n(56),X=n(61),Z=n(192),ee=n(198),te=n(193),ne=n(191),re=Object(P.a)((function(e){return{Sidebar:{position:"relative",width:"100%",maxWidth:e.props.sidebar,minWidth:e.props.sidebarMin},Sidebar_header:{display:"flex",alignItems:"center",justifyContent:"space-between"},Sidebar_menuButton:{marginRight:e.spacing(1)},Sidebar_searchbar:{background:"dark"===e.palette.type?e.lighten(e.palette.background.default,.235):e.darken(e.palette.background.default,.057),padding:"0 ".concat(e.spacing(1),"px"),fontSize:e.typography.body2.fontSize,boxSizing:"border-box",borderRadius:e.shape.borderRadius}}})),ae=n(95),ce=n(186),ie=n(187),oe=n(151),ue=n(188),se=n(73),le=n(199),de=n(52),fe=n(183),me=n(184),be=n(185),pe=Object(P.a)((function(e){return{MenuDrawer:{position:"absolute",width:"95%",height:"100%",zIndex:e.zIndex.tooltip,background:e.palette.background.paper,borderRight:"1px solid ".concat(e.palette.divider)},MenuDrawer_listItem:{"& p":{width:"100%",marginLeft:e.spacing(2)},"&:last-child p":{color:e.palette.error.dark,fontSize:e.typography.body1.fontSize,fontWeight:e.typography.fontWeightBold,marginLeft:0}},MenuDrawer_backdrop:{width:"100%",zIndex:1300,maxWidth:960,left:"auto",right:"auto"}}})),he=n(32),ge=n(23),ve=n(197),Oe=n(86),ye=[{title:"New Group",link:"/create_team",action:function(e){return e.onToggle},icon:a.a.createElement(fe.a,null)},{title:"New Channel",link:"/create_channel",action:function(e){return e.onToggle},icon:a.a.createElement(me.a,null)},{title:"Settings",link:"/settings",action:function(e){return e.onToggle},icon:a.a.createElement(be.a,null)},{title:"Log Out",action:function(e){return e.onLogout}}],je=a.a.memo(Object(T.b)(null,{dispatchLogout:Oe.b})((function(e){var t=e.open,n=Object(G.a)(e,["open"]),r=pe(),c=Object(ge.c)(K.b),i=Object(ge.b)(he.g,{onCompleted:function(){l.resetStore(),n.dispatchLogout()}}),u=Object(J.a)(i,2),s=u[0],l=u[1].client,d=Object(ve.a)(c,"data.currentUser",{});return a.a.createElement(a.a.Fragment,null,a.a.createElement(ce.a,{in:t,direction:"right"},a.a.createElement("div",{className:r.MenuDrawer},a.a.createElement(ie.a,null,a.a.createElement(oe.a,null,a.a.createElement(de.a,{src:d.avatar,alt:d.username})),a.a.createElement(oe.a,null,a.a.createElement(ue.a,{primary:d.username,secondary:d.email}))),a.a.createElement(ie.a,null,ye.map((function(e){var t=e.title,c=e.link,i=e.action,u=e.icon;return a.a.createElement(oe.a,{key:t,button:!0,to:c,className:r.MenuDrawer_listItem,component:c?L.b:"div",onClick:i?i(Object(o.a)({},n,{onLogout:s})):void 0},u,a.a.createElement(se.a,{variant:"body2",align:u?"left":"center"},t))}))))),a.a.createElement(le.a,{open:t,onClick:n.onToggle,className:r.MenuDrawer_backdrop}))}))),Ie=n(190),ke=n(182),Ee=Object(P.a)((function(e){return{ChatItem_badge_root:{height:15},ChatItem_badge_badge:{position:"relative",transform:"none",height:"inherit"},ChatItem_primary:{display:"flex"},ChatItem_secondary:{display:"flex",alignItems:"center"},ChatItem_primaryText:Object(o.a)({width:"100%"},e.props.classes.ellipsis),ChatItem_secondaryText:Object(o.a)({width:"100%",marginRight:e.spacing(1)},e.props.classes.ellipsis)}})),we=n(156),xe=n(189),Me=function(e){var t,n=e.anchorEl,r=e.onClose,c=e.onDelete;return a.a.createElement(we.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},open:Boolean(n),onClose:r},a.a.createElement(xe.a,{dense:!0,onClick:(t=c,function(){t(),r()})},"Delete chat"))},Se=function(e){var t=e.user,n=e.link,r=e.unread,c=e.selected,i=e.lastMessage,o=void 0===i?{}:i,u=Object(G.a)(e,["user","link","unread","selected","lastMessage"]),s=Ee(),l=a.a.useState(null),d=Object(J.a)(l,2),f=d[0],m=d[1],b=Object(ge.b)(he.d),p=Object(J.a)(b,1)[0];return a.a.createElement(a.a.Fragment,null,a.a.createElement(oe.a,{dense:!0,button:!0,to:n,component:L.b,selected:c,onContextMenu:function(e){e.preventDefault(),m(e.currentTarget)}},a.a.createElement(Ie.a,null,a.a.createElement(de.a,{src:t.avatar,alt:t.username,online:t.online})),a.a.createElement(ue.a,{primary:a.a.createElement(a.a.Fragment,null,a.a.createElement(se.a,{variant:"body2",className:s.ChatItem_primaryText},t.username),a.a.createElement(se.a,{variant:"caption",color:"textSecondary"},Object(X.a)(o.createdAt))),primaryTypographyProps:{className:s.ChatItem_primary,component:"div"},secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(se.a,{variant:"caption",className:s.ChatItem_secondaryText},o.text),a.a.createElement(ke.a,{max:50,classes:{badge:s.ChatItem_badge_badge,root:s.ChatItem_badge_root},badgeContent:r,color:"secondary"})),secondaryTypographyProps:{className:s.ChatItem_secondary,component:"div"}})),a.a.createElement(Me,{anchorEl:f,onClose:function(){return m(null)},onDelete:function(){return p({variables:{id:u.chat.id}})}}))},Te=Object(P.a)((function(e){return{UserItem_primary:Object(o.a)({},e.props.classes.ellipsis),UserItem_secondary:Object(o.a)({},e.props.classes.ellipsis,{color:e.palette.secondary[200]})}})),De=function(e){var t=Te();return a.a.createElement(oe.a,{dense:!0,button:!0,to:e.link,component:L.b},a.a.createElement(Ie.a,null,a.a.createElement(de.a,{src:e.user.avatar,alt:e.user.username})),a.a.createElement(ue.a,{primary:e.user.username,primaryTypographyProps:{component:"div",className:t.UserItem_primary},secondary:"@".concat(e.user.username),secondaryTypographyProps:{variant:"caption",component:"div",className:t.UserItem_secondary}}))},Ne=function(e){var t=re(),n=a.a.useState(!1),r=Object(J.a)(n,2),c=r[0],i=r[1],o=a.a.useState(""),u=Object(J.a)(o,2),s=u[0],l=u[1];a.a.useEffect((function(){l("")}),[e.chatId]),a.a.useEffect((function(){return e.subscribeToOnlineUsers(),e.subscribeToNewDirect(),e.subscribeToDeleteDirect(),e.setOnline(),window.addEventListener("beforeunload",(function(t){return t.preventDefault(),e.setOffline()})),function(){return e.setOffline()}}),[]),a.a.useEffect((function(){var t;e.directs&&((t=e.subscribeToNewMessage()).length>0&&t.forEach((function(e){return e()})),t=e.subscribeToNewMessage())}),[e.directslength]),a.a.useEffect((function(){var t;e.directs&&((t=e.subscribeToDeleteMessage()).length>0&&t.forEach((function(e){return e()})),t=e.subscribeToDeleteMessage())}),[e.directslength]);var d,f,m=Object(ne.a)((function(t){return e.onSearch(t)}),200),b=Object(J.a)(m,1)[0],p=function(){return i(!c)};return a.a.createElement("div",{className:t.Sidebar},a.a.createElement(je,{open:c,onToggle:p}),a.a.createElement(ae.a,{header:a.a.createElement("div",{className:t.Sidebar_header},a.a.createElement(Z.a,{edge:"start",color:"inherit",className:t.Sidebar_menuButton,onClick:p},a.a.createElement(te.a,null)),a.a.createElement(ee.a,{size:"small",value:s,placeholder:"Search",className:t.Sidebar_searchbar,onChange:function(e){l(e.target.value),b(e.target.value)}}))},s.length?function(e){return e?e.map((function(e){return a.a.createElement(De,{key:e.id,user:e,link:"/?p=".concat(e.id)})})):null}(e.users):(d=e.directs,f=e.chatId,d?d.map((function(e){return a.a.createElement(Se,{chat:e,key:e.id,user:e.user,unread:e.unread,link:"/?p=".concat(e.user.id),lastMessage:e.lastMessage,selected:e.user.id===f})})):null)))},$e=n(94),_e=function(e,t){return t.lastMessage.createdAt-e.lastMessage.createdAt},Ce=a.a.memo((function(e){var t=Object($e.b)(),n=t.queries,r=n.user,c=n.directs,i=Object(J.a)(t.lazyQueries.searchUsers,2),u=i[0],s=i[1],l=t.mutations,d=l.setOnline,f=l.setOffline,m=Object(X.b)(e.location).p;return a.a.createElement(Ne,{chatId:m,onSearch:function(e){return u({variables:{username:e}})},users:Object(ve.a)(s,"data.users"),directs:Object(ve.a)(c,"data.directs"),subscribeToNewMessage:function(){return Object(Y.a)(c.data.directs).map((function(e){var t=e.id;return c.subscribeToMore({document:V.d,variables:{chatId:t},updateQuery:function(e,n){var a=n.subscriptionData;if(!a.data)return e;var c=a.data.newMessage,i=Object(ve.a)(r,"data.currentUser"),u=c.userId!==i.id?1:0;return{directs:e.directs.map((function(e){return e.id===t&&(e=Object(o.a)({},e,{lastMessage:c,unread:e.unread+u})),e})).sort(_e)}}})}))},subscribeToNewDirect:function(){return c.subscribeToMore({document:V.c,updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var r=n.data.newDirect;return{directs:e.directs.concat(r)}}})},subscribeToDeleteMessage:function(){return Object(Y.a)(c.data.directs).map((function(e){var t=e.id;return c.subscribeToMore({document:V.b,variables:{chatId:t},updateQuery:function(){var e=Object(H.a)(F.a.mark((function e(n,a){var i,u,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=a.subscriptionData).data){e.next=3;break}return e.abrupt("return",n);case 3:return u=Object(ve.a)(r,"data.currentUser"),s=i.data.deleteMessage,e.next=7,c.client.query({query:K.d,variables:{chatId:t},fetchPolicy:"no-cache"}).then((function(e){var t=e.data,r=Object(Y.a)(n.directs).map((function(e){var n=s.userId!==u.id?1:0;return e.lastMessage.id===s.id&&(e=Object(o.a)({},e,{lastMessage:t.directLastMessage,unread:e.unread-n})),e}));return c.client.writeQuery({query:K.c,data:{directs:r}}),{directs:r}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}))},subscribeToDeleteDirect:function(){return c.subscribeToMore({document:V.a,updateQuery:function(){var e=Object(H.a)(F.a.mark((function e(t,n){var r,a,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.subscriptionData).data){e.next=3;break}return e.abrupt("return",t);case 3:return a=r.data.deleteDirect,i=t.directs.filter((function(e){return e.id!==a.id})),c.client.writeQuery({query:K.c,data:{directs:i}}),e.abrupt("return",{directs:i});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})},subscribeToOnlineUsers:function(){return c.subscribeToMore({document:V.e})},setOnline:d,setOffline:f,directslength:Object(ve.a)(c,"data.directs.length")})})),Ue=Object(P.a)((function(e){return{container:{display:"flex",overflow:"hidden",padding:0,maxHeight:"100vh"},contentShift:{width:"100%",minWidth:e.props.sidebarMin}}})),Ae=Object(z.g)((function(e){var t=e.children,n=Object(G.a)(e,["children"]),r=Ue();return a.a.createElement(W.a,{maxWidth:"md",className:r.container},a.a.createElement(Ce,n),a.a.createElement("div",{className:r.contentShift},t))})),ze=function(e){return Q()({loader:e,loading:function(e){return e.error&&console.error(e.error),null}})},Le=[{path:"/",exact:!1,component:ze((function(){return n.e(4).then(n.bind(null,223))}))},{path:"/verify",exact:!0,component:ze((function(){return n.e(0).then(n.bind(null,217))}))}],qe=[{path:"/(|registration)",exact:!0,component:ze((function(){return Promise.all([n.e(5),n.e(6)]).then(n.bind(null,218))}))},{path:"/verify",exact:!0,component:ze((function(){return n.e(0).then(n.bind(null,217))}))},{path:"*",component:z.a}],Be=Object(T.b)((function(e){return{isAuthorized:e.auth.isAuthorized}}))((function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,null),a.a.createElement(L.a,null,e.isAuthorized?a.a.createElement(Ae,null,Le.map((function(e){return a.a.createElement(z.b,Object.assign({key:e.path},e))}))):a.a.createElement(z.d,null,qe.map((function(e){return a.a.createElement(z.b,Object.assign({key:e.path},e))})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(a.a.createElement(i.a,{client:j},a.a.createElement(T.a,{store:A},a.a.createElement(I.a,{theme:S},a.a.createElement(Be,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h}));var r=n(12),a=n(13),c=n.n(a);function i(){var e=Object(r.a)(["\n  query onlineUsers {\n    onlineUsers {\n      id\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=Object(r.a)(["\n  query directLastMessage($chatId: Int!) {\n    directLastMessage(chatId: $chatId) {\n      id\n      text\n      userId\n      createdAt\n    }\n  }\n"]);return o=function(){return e},e}function u(){var e=Object(r.a)(["\n  query currentDirect($userId: Int!) {\n    currentDirect(userId: $userId) {\n      direct {\n        id\n        messages {\n          id\n          text\n          userId\n          createdAt\n        }\n      }\n      recipient {\n        id\n        email\n        avatar\n        online\n        username\n        lastSeen\n        createdAt\n      }\n    }\n  }\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  query directs {\n    directs {\n      id\n      user {\n        id\n        email\n        avatar\n        online\n        username\n        lastSeen\n        createdAt\n      }\n      lastMessage {\n        id\n        text\n        userId\n        createdAt\n      }\n      unread\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n  query currentUser {\n    currentUser {\n      id\n      email\n      avatar\n      username\n      createdAt\n    }\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n  query users($username: String) {\n    users(username: $username) {\n      id\n      email\n      avatar\n      online\n      username\n      lastSeen\n      createdAt\n    }\n  }\n"]);return d=function(){return e},e}var f=c()(d()),m=c()(l()),b=c()(s()),p=c()(u()),h=c()(o());c()(i())},32:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"g",(function(){return k})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return w}));var r=n(12),a=n(13),c=n.n(a);function i(){var e=Object(r.a)(["\n  mutation setOffline {\n    setOffline {\n      id\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=Object(r.a)(["\n  mutation setOnline {\n    setOnline {\n      id\n    }\n  }\n"]);return o=function(){return e},e}function u(){var e=Object(r.a)(["\n  mutation logout {\n    logout\n  }\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  mutation deleteDirect($id: Int!) {\n    deleteDirect(id: $id)\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n  mutation deleteMessage($id: Int!) {\n    deleteMessage(id: $id)\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n  mutation createMessage($chatId: Int, $text: String!) {\n    createMessage(chatId: $chatId, text: $text)\n  }\n"]);return d=function(){return e},e}function f(){var e=Object(r.a)(["\n  mutation createDirect($userId: Int!, $text: String) {\n    createDirect(userId: $userId, text: $text) {\n      id\n    }\n  }\n"]);return f=function(){return e},e}function m(){var e=Object(r.a)(["\n  mutation verifyUser($secret: String!) {\n    verifyUser(secret: $secret) {\n      token\n      refreshToken\n    }\n  }\n"]);return m=function(){return e},e}function b(){var e=Object(r.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      refreshToken\n    }\n  }\n"]);return b=function(){return e},e}function p(){var e=Object(r.a)(["\n  mutation createUser($username: String!, $email: String!, $password: String!) {\n    createUser(username: $username, email: $email, password: $password)\n  }\n"]);return p=function(){return e},e}var h=c()(p()),g=c()(b()),v=c()(m()),O=c()(f()),y=c()(d()),j=c()(l()),I=c()(s()),k=c()(u()),E=c()(o()),w=c()(i())},52:function(e,t,n){"use strict";var r=n(4),a=n(0),c=n.n(a),i=n(182),o=n(200),u=n(9),s=n(178),l=Object(s.a)((function(e){return{Avatar:{fontSize:e.typography.body1.fontSize,textTransform:"uppercase",color:e.palette.common.white}}})),d=Object(u.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(i.a);t.a=function(e){var t=e.alt,n=void 0===t?"":t,a=e.src,i=Object(r.a)(e,["alt","src"]),u=l(),s=n.split(" ").slice(0,2).map((function(e){return e[0]})).join("");return c.a.createElement(d,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",invisible:!i.online},c.a.createElement(o.a,{src:a,className:u.Avatar,style:{background:a}},s))}},55:function(e,t,n){"use strict";t.a={auth:{LOGIN:"LOGIN",LOGOUT:"LOGOUT"}}},56:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p}));var r=n(12),a=n(13),c=n.n(a);function i(){var e=Object(r.a)(["\n  subscription {\n    onlineUser {\n      id\n      online\n      lastSeen\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=Object(r.a)(["\n  subscription {\n    newDirect {\n      id\n      user {\n        id\n        email\n        avatar\n        username\n        createdAt\n      }\n      lastMessage {\n        id\n        text\n        userId\n        createdAt\n      }\n      unread\n    }\n  }\n"]);return o=function(){return e},e}function u(){var e=Object(r.a)(["\n  subscription deleteDirect {\n    deleteDirect {\n      id\n    }\n  }\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  subscription($chatId: Int!) {\n    deleteMessage(chatId: $chatId) {\n      id\n      userId\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(r.a)(["\n  subscription($chatId: Int!) {\n    newMessage(chatId: $chatId) {\n      id\n      text\n      userId\n      createdAt\n    }\n  }\n"]);return l=function(){return e},e}var d=c()(l()),f=c()(s()),m=c()(u()),b=c()(o()),p=c()(i())},61:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));n(17),n(16);var r=n(72),a=n.n(r),c=(n(0),n(82)),i=n.n(c),o=function(e){return a.a.parse(e.search,{arrayFormat:"comma",skipNull:!0,parseNumbers:!0})},u=function(e,t){if(e){var n=i()(),r=i()(+e),a=n.diff(r,"days")>=5?"DD.MM.YY":"HH:mm";return t?t+r.format(a):r.format(a)}}},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n(55),a=function(e){return{type:r.a.auth.LOGIN,payload:e}},c=function(){return{type:r.a.auth.LOGOUT}},i={set:function(e){var t=e.token,n=e.refreshToken;localStorage.setItem("token",t),localStorage.setItem("refreshToken",n)},remove:function(){localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}}},86:function(e,t,n){"use strict";var r=n(63);n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.c}))},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(17),a=n(23),c=n(28),i=n(32),o=function(){var e=Object(a.c)(c.b),t=Object(a.c)(c.c),n=Object(a.a)(c.e),o=Object(a.b)(i.i),u=Object(r.a)(o,1)[0],s=Object(a.b)(i.h);return{queries:{user:e,directs:t},lazyQueries:{searchUsers:n},mutations:{setOnline:u,setOffline:Object(r.a)(s,1)[0]}}},u=function(e){var t=e.userId,n=Object(a.c)(c.b),o=Object(a.c)(c.a,{variables:{userId:t}}),u=Object(a.b)(i.a),s=Object(r.a)(u,1)[0],l=Object(a.b)(i.b),d=Object(r.a)(l,1)[0],f=Object(a.b)(i.e);return{queries:{currentUser:n,currentDirect:o},lazyQueries:{},mutations:{createDirect:s,createMessage:d,deleteMessage:Object(r.a)(f,1)[0]}}}},95:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(180),i=n(178),o=Object(i.a)((function(e){return{MainBlock:{position:"relative",width:"100%",height:"100vh",overflow:"hidden",background:e.palette.background.paper,borderRight:"1px solid ".concat(e.palette.divider)},MainBlock_header:{},MainBlock_content:{height:"100%",maxHeight:"calc(100% - 64px)",overflowY:"scroll",position:"relative","&::-webkit-scrollbar":{display:"none"},borderTop:"1px solid ".concat(e.palette.divider)}}}));t.a=a.a.memo((function(e){var t=e.header,n=e.children,r=e.show,i=void 0===r||r,u=o();return a.a.createElement("div",{className:u.MainBlock},i&&a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{className:u.MainBlock_header},t),a.a.createElement("div",{className:u.MainBlock_content},n)))}))}},[[117,2,3]]]);
//# sourceMappingURL=main.8849b43f.chunk.js.map